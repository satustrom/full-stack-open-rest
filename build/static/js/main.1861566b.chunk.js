(this.webpackJsonpmoockaksi=this.webpackJsonpmoockaksi||[]).push([[0],{26:function(n,e,t){n.exports=t(55)},31:function(n,e,t){},32:function(n,e,t){},55:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(6),c=t.n(o),i=(t(31),t(19)),u=t(20),l=t(23),f=t(24),m=(t(32),t(11)),s=t(4),d=t(5),p=t.n(d),h="/api/persons",b=function(){return p.a.get(h).then((function(n){return n.data}))},g=function(n){return p.a.post(h,n).then((function(n){return n.data}))},v=function(n,e){return p.a.put("".concat(h,"/").concat(n),e).then((function(n){return n.data}))},E=function(n){return p.a.delete("".concat(h,"/").concat(n)).then((function(n){return n.data}))},w=t(1),x=t(2);function j(){var n=Object(w.a)(["\n    background-color: green;\n  "]);return j=function(){return n},n}function O(){var n=Object(w.a)(["\n    width: 70px;\n    height: 25px;\n    padding: 2px 5px;\n    font-size: 12px;\n  "]);return O=function(){return n},n}function k(){var n=Object(w.a)(["\n  min-width: 70px;\n  min-height: 25px;\n  border-radius: 20px;\n  color: white;\n  background-color: black;\n  font-size: 16px;\n  padding: 8px 15px;\n  margin: 2px;\n  outline-color: #C8C8C8;\n\n  ","\n\n  ","\n"]);return k=function(){return n},n}var y=x.b.button(k(),(function(n){return n.small&&Object(x.a)(O())}),(function(n){return n.important&&Object(x.a)(j())}));function C(){var n=Object(w.a)(["\n  height: 25px;\n  width: 130px;\n  margin: 6px 0;\n  border: 1px\tsolid white;\n  background-color: #E8E8E8;\n  outline-color: #C8C8C8;\n  display: block;\n  padding: 5px 10px;\n"]);return C=function(){return n},n}var S=x.b.input(C());function N(){var n=Object(w.a)(["\n  background-color: #e8e8e8;\n  height: 30px;\n"]);return N=function(){return n},n}function W(){var n=Object(w.a)(["\n      width: 80px;\n    "]);return W=function(){return n},n}function z(){var n=Object(w.a)(["\n  padding: 8px 12px;\n  font-size: 16px;\n  text-transform: capitalize;\n\n  ","\n"]);return z=function(){return n},n}function A(){var n=Object(w.a)(["\n  color: #303030;\n  font-size: 18px;\n  padding: 12px;\n  text-align: left;\n"]);return A=function(){return n},n}function F(){var n=Object(w.a)(["\n  border: 1px solid white;\n  width: 80%;\n"]);return F=function(){return n},n}var L=x.b.table(F()),R=x.b.th(A()),B=x.b.td(z(),(function(n){return n.options&&Object(x.a)(W())})),D=x.b.tr(N()),P=function(n){var e=n.personsList,t=n.toggleDelete,r=n.filterWith;return a.a.createElement(L,null,a.a.createElement("tbody",null,a.a.createElement(D,null,a.a.createElement(R,null,"Name"),a.a.createElement(R,null,"Number"),a.a.createElement(R,null)),e.filter((function(n){return n.name.startsWith(r)})).map((function(n){return a.a.createElement(D,{key:n.id},a.a.createElement(B,null,n.name),a.a.createElement(B,null,n.number),a.a.createElement(B,{options:!0},a.a.createElement(y,{small:!0,onClick:t(n.id,n.name)},"Remove")))}))))};function T(){var n=Object(w.a)(["\n  width: 80%;\n  height: 35px;\n  background-color: #e8e8e8;\n  color: #808080;\n  padding: 10px 0 0 5px;\n"]);return T=function(){return n},n}var J=x.b.div(T()),U=function(n){var e=n.text;return a.a.createElement(J,null,e)};function G(){var n=Object(r.useState)(""),e=Object(s.a)(n,2),t=e[0],o=e[1],c=Object(r.useState)([]),i=Object(s.a)(c,2),u=i[0],l=i[1],f=Object(r.useState)({name:"",number:""}),d=Object(s.a)(f,2),p=d[0],h=d[1],w=Object(r.useState)(!0),x=Object(s.a)(w,2),j=x[0],O=x[1],k=Object(r.useState)(""),C=Object(s.a)(k,2),N=C[0],W=C[1];Object(r.useEffect)((function(){b().then((function(n){return l(n)}))}),[]),Object(r.useEffect)((function(){t.length>0&&setTimeout((function(){o("")}),5e3)}),[t]);var z=j?u:u.filter((function(n){return""!==n.number})),A=j?"Showing All":"Hiding empty numbers";return a.a.createElement(a.a.Fragment,null,t.length>0&&a.a.createElement(U,{text:t}),a.a.createElement("h3",null,"Create or edit"),a.a.createElement("form",{onSubmit:function(n){return function(n){n.preventDefault();var e=u.find((function(n){return n.name===p.name}));e&&window.confirm("Confirm that ".concat(p.name," will update phone number from ").concat(e.number," to ").concat(p.number,"?"))?v(e.id,p).then((function(n){var e=u.map((function(e){return e.id!==n.id?e:n}));l(e),o("Nice! Person named ".concat(n.name," is updated!"))})).catch((function(n){return o("So sorry, we faced problems! Error: ".concat(n.name))})):g(p).then((function(n){l(u.concat(n)),o("Great! New peson named ".concat(n.name," created!"))})),h({name:"",number:""})}(n)}},a.a.createElement(S,{value:p.name,onChange:function(n){return h(Object(m.a)({},p,{name:n.target.value}))},placeholder:"Name"}),a.a.createElement(S,{value:p.number,onChange:function(n){return h(Object(m.a)({},p,{number:n.target.value}))},placeholder:"Number"}),a.a.createElement(y,{type:"submit"},"Add/Update")),a.a.createElement("h3",null,"Find with name"),a.a.createElement(S,{value:N,onChange:function(n){return W(n.target.value)},placeholder:"Name"}),a.a.createElement("p",{style:{display:"inline-block",marginRight:"8px"}},"Restrict phone numbers:"),a.a.createElement(y,{onClick:function(){return O(!j)}},A),a.a.createElement(P,{filterWith:N,personsList:z,toggleDelete:function(n,e){return function(){E(n).then((function(){l(u.filter((function(e){return e.id!==n}))),o("Alright, ".concat(e," is now remoded!"))}))}}}))}var H=function(n){return p.a.get("".concat("https://restcountries.eu/rest/v2","/name/").concat(n)).then((function(n){return n.data}))};function I(){var n=Object(r.useState)(""),e=Object(s.a)(n,2),t=e[0],o=e[1],c=Object(r.useState)(""),i=Object(s.a)(c,2),u=i[0],l=i[1],f=function(n){l(n),H(n).then((function(n){return o(n)}))},m=t.length<=10&&t.length>1;return a.a.createElement("div",{style:{paddingBottom:"100px"}},a.a.createElement(S,{onChange:function(n){return f(n.target.value)},placeholder:"Country",value:u}),t.length>10&&a.a.createElement(U,{text:"Could you specify a bit :)"}),m&&t.map((function(n,e){return a.a.createElement(y,{onClick:function(){return f(n.name)},key:e},n.name)})),1===t.length&&t.map((function(n,e){return a.a.createElement("div",{key:e},a.a.createElement("p",null,"Country name: ",n.name),a.a.createElement("p",null,"Population: ",n.population),a.a.createElement("img",{alt:"country-flag",src:n.flag,style:{width:"100px"}}),a.a.createElement("p",null,"Weather"))})))}var Q=function(n){Object(f.a)(t,n);var e=Object(l.a)(t);function t(){return Object(i.a)(this,t),e.apply(this,arguments)}return Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"Full Stack Open 2020 course"),a.a.createElement("h2",null,"Phone numbers "),a.a.createElement(G,null),a.a.createElement("h2",null,"Countries"),a.a.createElement(I,null))}}]),t}(r.Component),$=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function q(n){navigator.serviceWorker.register(n).then((function(n){n.onupdatefound=function(){var e=n.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(n){console.error("Error during service worker registration:",n)}))}c.a.render(a.a.createElement(Q,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");$?(!function(n){fetch(n).then((function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(n){n.unregister().then((function(){window.location.reload()}))})):q(n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):q(n)}))}}()}},[[26,1,2]]]);
//# sourceMappingURL=main.1861566b.chunk.js.map